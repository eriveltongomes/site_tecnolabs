"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var AjaxService=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"post",value:function(){var r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ACYC_AJAX_URL,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jQuery.post(t,o).then(function(t){return"object"!==_typeof(t)&&(t=e.parseJson(t)),t.error&&!r.empty(t.message)&&console.error(t.message),t}).fail(function(e,r,o){var n={error:!0};return n.message=o,n.data=[],console.error("Error calling ".concat(t,", responded with error ").concat(r," ").concat(o)),n})}},{key:"parseJson",value:function(e,r){if("object"===_typeof(e))return e;try{var t=e.indexOf("{"),o=e.indexOf("[");if(!isNaN(t)&&t>0&&!isNaN(o)&&o>0&&(e=e.substring(t)),void 0!==e||""!==e)return JSON.parse(e)}catch(e){console.error(e.stack)}return r}}]),e}();