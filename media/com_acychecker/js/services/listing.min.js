"use strict";function _classCallCheck(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,c){for(var t=0;t<c.length;t++){var n=c[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,c,t){return c&&_defineProperties(e.prototype,c),t&&_defineProperties(e,t),e}var ListingService=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initOrdering",value:function(){document.getElementById("acyc__listing__ordering").addEventListener("change",function(){var e=document.querySelector(".acyc_form");e.querySelector('[name="task"]').value="listing",e.submit()}),document.getElementById("acyc__listing__ordering__sort-order").addEventListener("click",function(){var e=document.getElementById("acyc__listing__ordering__sort-order--input");"asc"===e.value?e.value="desc":e.value="asc";var c=document.querySelector(".acyc_form");c.querySelector('[name="task"]').value="listing",c.submit()})}},{key:"setCheckAll",value:function(){jQuery("#checkbox_all").off("change").on("change",function(){var e=jQuery('[name="elements_checked[]"]');jQuery(this).is(":checked")?e.prop("checked",!0):e.prop("checked",!1),e.trigger("change")})}},{key:"setCheckboxesActions",value:function(){var e=jQuery('[name="elements_checked[]"]');e.off("change").on("change",function(){jQuery('[name="elements_checked[]"]:checked').length>0?jQuery("#listing_actions").removeAttr("disabled"):jQuery("#listing_actions").attr("disabled","true"),jQuery('[name="elements_checked[]"]:not(:checked)').length>0?jQuery("#checkbox_all").prop("checked",!1):jQuery("#checkbox_all").prop("checked",!0)}),e.trigger("change")}},{key:"setSelectActions",value:function(){function e(){var e=jQuery(this).val(),c=!1;e&&"0"!==e||(e=jQuery(this).attr("data-acyc-action"),c=!0);var t=jQuery("#acyc__listing__action__delete-message").val(),n="";switch(e){case"delete":n="".concat(ACYC_LANGUAGES.ACYC_ARE_YOU_SURE_DELETE," ").concat(t);break;case"unblockUsers":n=ACYC_LANGUAGES.ACYC_UNBLOCK_USERS_CONFIRM;break;case"blockUsers":n=ACYC_LANGUAGES.ACYC_BLOCK_USERS_CONFIRM;break;case"deleteUsers":n=ACYC_LANGUAGES.ACYC_DELETE_USERS_CONFIRM;break;default:n=ACYC_LANGUAGES.ACYC_ARE_YOU_SURE}if(confirm(n)){var a=jQuery(this).closest("#acyc_form"),r=jQuery(this).attr("data-ctrl");if(void 0!==r&&(a.find('[name="return_listing"]').val(a.find('[name="ctrl"]').val()),a.find('[name="ctrl"]').val(r)),a.find('[name="task"]').val(e),c){jQuery(":checkbox").prop("checked",!1);var i="#checkbox_"+jQuery(this).attr("data-acyc-elementid");jQuery(i).prop("checked",!0)}a.submit()}else jQuery(this).val("0")}jQuery("#listing_actions").off("change").on("change",e),jQuery(".fastAction").on("click",e)}},{key:"setActionButtons",value:function(){jQuery("button[data-acyc-redirect]").off("click").on("click",function(){var e=jQuery(this).attr("data-acyc-confirmation");e&&e.length>0&&!confirm(e)||(window.location=jQuery(this).attr("data-acyc-redirect"))})}}]),e}();