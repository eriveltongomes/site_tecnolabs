"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var DatabaseDefault=function(){function e(){_classCallCheck(this,e),this.$saveButton=jQuery("#acyc__database__save__button"),this.periodicValues=["week","month"],this.changeButtonText(),this.onChangeRadioExecutionTime(),this.onChangeTableSelection(),this.displayFilter(),this.setConditionsFromAction()}return _createClass(e,[{key:"onChangeRadioExecutionTime",value:function(){var e=this;jQuery('input[name="acyc_config[execution_selected]"]').on("change",function(){return e.changeButtonText()})}},{key:"changeButtonText",value:function(){var e=document.querySelector('input[name="acyc_config[execution_selected]"]:checked');!e||this.periodicValues.includes(e.value)?this.changeTextToSave():this.changeTextToProcess()}},{key:"changeTextToSave",value:function(){this.$saveButton.text(ACYC_LANGUAGES.ACYC_SAVE),this.$saveButton.attr("data-task","save")}},{key:"changeTextToProcess",value:function(){this.$saveButton.text(ACYC_LANGUAGES.ACYC_PROCESS),this.$saveButton.attr("data-task","process")}},{key:"onChangeTableSelection",value:function(){var e=this;jQuery('input[name*="acyc_config[tables_selected]"]').on("change",function(){return e.displayFilter()})}},{key:"displayFilter",value:function(){jQuery('input[name*="acyc_config[tables_selected]"]').each(function(){var e=jQuery(this).val(),t=jQuery(this).is(":checked")?"flex":"none";jQuery('[data-acyc-table="'.concat(e,'"]')).css("display",t)})}},{key:"setConditionsFromAction",value:function(){var e=this;jQuery('input[name="acyc_config[action_selected]"]').off("change").on("change",function(){e.toggleConditionsSection()}),this.toggleConditionsSection()}},{key:"toggleConditionsSection",value:function(){jQuery("#do_nothing").is(":checked")?jQuery(".hide_on_do_nothing").hide():jQuery(".hide_on_do_nothing").show()}}]),e}();jQuery(function(){new DatabaseDefault});